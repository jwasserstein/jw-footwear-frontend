{"version":3,"sources":["components/Navbar/index.js","components/Navbar/Navbar.js","components/Footer/index.js","components/Footer/Footer.js","hocs/withAuth.js","containers/LandingPage/index.js","containers/LandingPage/LandingPage.js","containers/AboutPage/index.js","containers/AboutPage/AboutPage.js","store/actionTypes.js","services/api.js","store/actions/auth.js","components/Message/index.js","components/Message/Message.js","components/Button/index.js","components/Button/Button.js","components/Form/index.js","components/Form/Form.js","containers/LoginPage/LoginPage.js","containers/LoginPage/index.js","containers/SignupPage/SignupPage.js","containers/SignupPage/index.js","containers/PasswordPage/index.js","containers/PasswordPage/PasswordPage.js","store/actions/products.js","components/Rating/index.js","components/Rating/Rating.js","components/Product/index.js","components/Product/Product.js","containers/ProductPage/ProductPage.js","containers/ProductPage/index.js","components/AvailableSizes/index.js","components/AvailableSizes/AvailableSizes.js","components/Review/index.js","components/Review/Review.js","containers/ShowPage/ShowPage.js","containers/ShowPage/index.js","store/actions/cart.js","store/actions/reviews.js","components/Item/index.js","components/Item/Item.js","containers/CartPage/CartPage.js","containers/CartPage/index.js","components/InputField/index.js","components/InputField/InputField.js","store/actions/orders.js","containers/CheckoutPage/CheckoutPage.js","containers/CheckoutPage/index.js","components/Options/index.js","components/Options/Options.js","containers/ProfilePage/index.js","containers/ProfilePage/ProfilePage.js","containers/OrderHistoryPage/OrderHistoryPage.js","containers/OrderHistoryPage/index.js","containers/OrderShowPage/OrderShowPage.js","containers/OrderShowPage/index.js","containers/ReviewPage/ReviewPage.js","containers/ReviewPage/index.js","containers/App/App.js","containers/App/index.js","reportWebVitals.js","store/reducers/auth.js","store/reducers/products.js","store/reducers/cart.js","store/reducers/orders.js","store/reducers/reviews.js","store/reducers/index.js","index.js","store/index.js"],"names":["Navbar","props","state","menuActive","toggleMenu","bind","closeMenu","this","setState","username","cartCount","logOut","className","onClick","to","Component","Footer","withAuth","ComponentToRender","Authenticate","userId","history","push","connect","authReducer","LandingPage","width","height","updateWindowDimensions","document","title","window","addEventListener","removeEventListener","innerWidth","innerHeight","divHeight","style","backgroundImage","AboutPage","useEffect","LOG_IN","LOG_OUT","GET_PRODUCTS","ADD_CART_ITEM","RESTORE_CART","REMOVE_CART_ITEM","GET_ORDERS","EMPTY_CART","REMOVE_ORDERS","GET_REVIEWS","GET_ORDERED_PRODUCTS","apiCall","type","url","data","a","toLowerCase","fetch","process","method","headers","localStorage","token","resp","json","d","body","JSON","stringify","getOrderedProducts","dispatch","Promise","resolve","reject","orderedProducts","error","message","Message","color","children","colorClass","Button","form","classes","Form","fields","loading","onSubmit","onChange","fieldElements","map","f","htmlFor","name","label","value","id","placeholder","autoComplete","autoCorrect","autoCapitalize","required","LoginPage","e","target","preventDefault","logIn","password","then","catch","err","setItem","SignupPage","repeatPassword","signUp","PasswordPage","currentPassword","newPassword","repeatNewPassword","messageColor","response","marginBottom","getProducts","products","Rating","rating","stars","i","solid","Product","price","shortDescription","imageUrl","numReviews","_id","src","alt","ProductPage","lastUpdated","console","log","productElements","length","forEach","p","reviews","productReducer","AvailableSizes","availableSizes","selectedSize","updateSize","sizes","includes","Review","author","comment","ShowPage","addToCart","size","productId","match","params","timeout","setTimeout","addCartItem","clearTimeout","getReviews","product","find","textAlign","longDescription","reviewElements","r","authorUsername","text","toFixed","reviewReducer","quantity","lsCart","parse","getItem","idSizeCombo","item","lsCartCount","Item","removeCartItem","CartPage","cart","subTotalPrice","cartItemElements","shipping","cartReducer","filter","InputField","getOrders","orders","sort","b","Date","date","CheckoutPage","address","city","card","expDate","secCode","placeOrder","items","emptyCart","marginRight","minLength","maxLength","pattern","order","Options","Container","ProfilePage","OrderHistoryPage","optionElements","o","numItems","reduce","acc","next","total","subTotal","taxes","dayjs","format","orderReducer","OrderShowPage","lastUpdatedOrders","lastUpdatedProducts","orderId","orderItemElements","String","ReviewPage","submitReview","App","restoreCart","querySelector","minHeight","path","component","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","DEFAULT_STATE","loggedInAt","rootReducer","combineReducers","action","now","joinDate","newCart","newCartCount","store","middleware","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","configureStore","decoded","jwtdecode","iat","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c4ceffb7.chunk.js","sourcesContent":["import Navbar from './Navbar';\n\nexport default Navbar;","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './Navbar.css';\n\nclass Navbar extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {menuActive: ''};\n\t\tthis.toggleMenu = this.toggleMenu.bind(this);\n\t\tthis.closeMenu = this.closeMenu.bind(this);\n\t}\n\n\ttoggleMenu(){\n\t\tif(this.state.menuActive === ''){\n\t\t\tthis.setState({menuActive: 'active'});\n\t\t} else {\n\t\t\tthis.setState({menuActive: ''});\n\t\t}\n\t}\n\n\tcloseMenu(){\n\t\tthis.setState({menuActive: ''});\n\t}\n\n\trender() {\n\t\tconst {username, cartCount, logOut} = this.props;\n\t\tconst {menuActive} = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className='Navbar-spacer'></div>\n\t\t\t\t<header className={'Navbar ' + menuActive}>\n\t\t\t\t\t<div className='Navbar-burger' onClick={this.toggleMenu}>\n\t\t\t\t\t\t<span className='Navbar-bar'></span>\n\t\t\t\t\t\t<span className='Navbar-bar'></span>\n\t\t\t\t\t\t<span className='Navbar-bar'></span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Link onClick={this.closeMenu} to='/' className='Navbar-brand'><h1>JW Footwear</h1></Link>\n\t\t\t\t\t<div className='Navbar-links-left'>\n\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/' className='Navbar-link'>Home</Link>\n\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/products' className='Navbar-link'>Products</Link>\n\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/about' className='Navbar-link'>About</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t{username ?\n\t\t\t\t\t\t<div className='Navbar-links-right'>\n\t\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/cart' className='Navbar-link'>{`Cart (${cartCount})`}</Link>\n\t\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/profile' className='Navbar-link'>{username}</Link>\n\t\t\t\t\t\t\t<Link onClick={() => {\n\t\t\t\t\t\t\t\tthis.closeMenu(); \n\t\t\t\t\t\t\t\tlogOut();\n\t\t\t\t\t\t\t\t}} to='/login' className='Navbar-link Navbar-signup-btn' >Sign Out</Link>\n\t\t\t\t\t\t</div> : \n\t\t\t\t\t\t<div className='Navbar-links-right'>\n\t\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/cart' className='Navbar-link'>{`Cart (${cartCount})`}</Link>\n\t\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/login' className='Navbar-link'>Log In</Link>\n\t\t\t\t\t\t\t<Link onClick={this.closeMenu} to='/signup' className='Navbar-link Navbar-signup-btn'>Sign Up</Link>\n\t\t\t\t\t\t</div>}\n\t\t\t\t</header>\n\t\t\t</div>\n\t\t);\n\t}\n} \n\nNavbar.propTypes = {\n\tusername: PropTypes.string,\n\tcartCount: PropTypes.number.isRequired,\n\tlogOut: PropTypes.func.isRequired\n};\n\nexport default Navbar;","import Footer from './Footer';\n\nexport default Footer;","import React from 'react';\nimport './Footer.css';\n\nconst Footer = () => (\n    <div>\n        <div className='Footer-spacer'></div>\n        <footer className='Footer'>\n            For demonstration purposes only, not a real store.  Made by Justin Wasserstein in 2020.\n        </footer> \n    </div>\n);\n\nexport default Footer;","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nfunction withAuth(ComponentToRender){\n\tclass Authenticate extends Component {\n\t\tcomponentDidMount(){\n\t\t\tif(!this.props.userId){\n\t\t\t\tthis.props.history.push('/login');\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponentDidUpdate(){\n\t\t\tif(!this.props.userId){\n\t\t\t\tthis.props.history.push('/login');\n\t\t\t}\n\t\t}\n\t\t\n\t\trender(){\n\t\t\tif(!this.props.userId){\n\t\t\t\treturn <div>Loading...</div>;\n\t\t\t} else {\n\t\t\t\treturn <ComponentToRender {...this.props} />;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction mapStateToProps(state){\n\t\treturn {\n\t\t\tuserId: state.authReducer.userId\n\t\t};\n\t}\n\t\n\treturn connect(mapStateToProps)(Authenticate);\n}\n\nexport default withAuth;","import LandingPage from './LandingPage';\n\nexport default LandingPage;","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport './LandingPage.css';\n\nclass LandingPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            width: 0,\n            height: 0\n        };\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    }\n\n    componentDidMount(){\n        document.title = 'JW Footwear | Welcome';\n        this.updateWindowDimensions();\n        window.addEventListener('resize', this.updateWindowDimensions);\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions(){\n        this.setState({...this.state, width: window.innerWidth, height: window.innerHeight});\n    }\n\n    render() {\n        const {width, height} = this.state;\n        const divHeight = width > 900 ? height - 113 : height - 137;\n        return (\n            <div className='LandingPage-main-container' style={{height: divHeight}}>\n                <div className='LandingPage-Hero-image' style={{backgroundImage: `url('https://jw-footwear.s3.amazonaws.com/shoe-on-feet.jpg')`}}></div>\n                <div className=\"LandingPage-Hero-text\">\n                    <h1>Welcome to JW Footwear!</h1>\n                    <p>We’re the largest retailer of shoes that doesn’t actually sell shoes!</p>\n                    <Link to='/products'>Shop Now!</Link>\n                </div>\n            </div>\n        );\n    }\n};\n\nexport default LandingPage;","import AboutPage from './AboutPage';\n\nexport default AboutPage;","import React, {useEffect} from 'react';\nimport './AboutPage.css';\n\nconst AboutPage = () => {\n    useEffect(() => document.title = 'JW Footwear | About');\n\n    return (\n        <div className=\"AboutPage-main-container\">\n            <h2>About JW Footwear</h2>\n            <p>JW Footwear is a demonstration e-commerce application made for the purposes of learning React and Redux. \n                It allows users to purchase shoes. It was designed in Figma and uses the following technologies:</p>\n            <ul>\n                <li><strong>Front-end</strong>: React and Redux</li>\n                <li><strong>Back-end</strong>: Node.js and Express</li>\n                <li><strong>Database</strong>: MongoDB</li>\n            </ul>\n            <p className='AboutPage-handcrafted'>Hand-crafted with <span>❤</span> in Glastonbury, Connecticut.</p>\n        </div>\n    );\n};\n\nexport default AboutPage;","export const LOG_IN = 'LOG_IN';\nexport const LOG_OUT = 'LOG_OUT';\nexport const GET_PRODUCTS = 'GET_PRODUCTS';\nexport const ADD_CART_ITEM = 'ADD_CART_ITEM';\nexport const RESTORE_CART = 'RESTORE_CART';\nexport const REMOVE_CART_ITEM = 'REMOVE_CART_ITEM';\nexport const GET_ORDERS = 'GET_ORDERS';\nexport const EMPTY_CART = 'EMPTY_CART';\nexport const REMOVE_ORDERS = 'REMOVE_ORDERS';\nexport const GET_REVIEWS = 'GET_REVIEWS';\nexport const GET_ORDERED_PRODUCTS = 'GET_ORDERED_PRODUCTS';","export async function apiCall(type, url, data) {\n\tif(type.toLowerCase() === 'get'){\n\t\tconst resp = await fetch(process.env.REACT_APP_BACKEND_URL + '/api' + url, {\n\t\t\tmethod: type,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Bearer ${localStorage.token}`\n\t\t\t}\n\t\t});\n\t\tconst d = await resp.json();\n\t\treturn d;\n\t} else {\n\t\tconst resp = await fetch(process.env.REACT_APP_BACKEND_URL + '/api' + url, {\n\t\t\tmethod: type,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Bearer ${localStorage.token}`\n\t\t\t},\n\t\t\tbody: JSON.stringify(data)\n\t\t});\n\t\tconst d = await resp.json();\n\t\treturn d;\n\t}\n}","import {LOG_IN, LOG_OUT, REMOVE_ORDERS, GET_ORDERED_PRODUCTS} from '../actionTypes';\nimport {apiCall} from '../../services/api';\n\nexport function logIn(username, password) {\n\treturn dispatch => {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst resp = await apiCall('post', '/auth/signin', {username, password});\n\t\t\t\tif(resp.error){\n\t\t\t\t\treturn reject(resp.error);\n\t\t\t\t}\n\t\t\t\tif(!resp.token){\n\t\t\t\t\treturn reject('Error getting token');\n\t\t\t\t}\n\t\t\t\tlocalStorage.setItem('token', resp.token);\n\t\t\t\tdispatch({type: LOG_IN, ...resp});\n\t\t\t\treturn resolve();\n\t\t\t} catch(err) {\n\t\t\t\treturn reject(err.message);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function signUp(username, password){\n\treturn dispatch => {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst resp = await apiCall('post', '/auth/signup', {username, password});\n\t\t\t\tif(resp.error){\n\t\t\t\t\treturn reject(resp.error);\n\t\t\t\t}\n\t\t\t\tif(!resp.token){\n\t\t\t\t\treturn reject('Error getting token');\n\t\t\t\t}\n\t\t\t\tlocalStorage.setItem('token', resp.token);\n\t\t\t\tdispatch({type: LOG_IN, ...resp});\n\t\t\t\treturn resolve();\n\t\t\t} catch(err) {\n\t\t\t\treturn reject(err.message);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function logOut() {\n\treturn dispatch => {\n\t\tlocalStorage.removeItem('token');\n\t\tdispatch({type: LOG_OUT});\n\t\tdispatch({type: REMOVE_ORDERS});\n\t}\n}\n\nexport function getOrderedProducts() {\n\treturn dispatch => {\n\t\treturn new Promise(async function(resolve, reject) {\n\t\t\ttry {\n\t\t\t\tconst orderedProducts = await apiCall('get', '/auth/orderedProducts', {});\n\t\t\t\tif(orderedProducts.error){\n\t\t\t\t\treturn reject(orderedProducts.error);\n\t\t\t\t}\n\t\t\t\tdispatch({type: GET_ORDERED_PRODUCTS, orderedProducts});\n\t\t\t\treturn resolve();\n\t\t\t} catch (err) {\n\t\t\t\treturn reject(err.message);\n\t\t\t}\n\t\t});\n\t}\n}","import Message from './Message';\n\nexport default Message;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Message.css';\n\nconst Message = ({color, children}) => {\n    const colorClass = 'Message-' + (color || 'red');\n    return (\n        <div className={'Message ' + colorClass}>{children}</div>\n    );\n};\n\nMessage.propTypes = {\n    color: PropTypes.string,\n    children: PropTypes.any\n};\n\nexport default Message;","import Button from './Button';\n\nexport default Button;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './Button.css';\n\nconst Button = ({className, form, children, to, onClick}) => {\n    const classes = className ? `Button ${className}` : 'Button';\n    if(form){\n        return <button type='submit' className={classes + ' Button-form'} onClick={onClick}>{children}</button>;\n    } else {\n        return <Link className={classes} to={to} onClick={onClick}>{children}</Link>;\n    }\n};\n\nButton.propTypes = {\n    className: PropTypes.string,\n    form: PropTypes.bool,\n    to: PropTypes.string,\n    children: PropTypes.any,\n    onClick: PropTypes.func\n};\n\nexport default Button;","import Form from './Form';\n\nexport default Form;","import React from 'react';\nimport Button from '../Button';\nimport PropTypes from 'prop-types';\nimport './Form.css';\n\nconst Form = ({fields, loading, onSubmit, onChange}) => {\n    const fieldElements = fields.map(f => (\n        <label htmlFor={f.name} key={f.name} className='Form-label'>\n            {f.label}:\n            <input type={f.type} className='Form-field' value={f.value} onChange={onChange} id={f.name} \n            name={f.name} placeholder={f.label} autoComplete='off' autoCorrect='off' autoCapitalize='none' required />\n        </label>\n    ));\n\n    return (\n        <form className='Form-form' onSubmit={onSubmit}>\n            {fieldElements}      \n            <Button form className='Form-btn'>\n                {loading ? 'Loading...' : 'Submit'}\n            </Button>\n        </form>\n        );\n};\n\nForm.propTypes = {\n    fields: PropTypes.array.isRequired,\n    loading: PropTypes.bool.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired\n};\n\nexport default Form;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {logIn} from '../../store/actions/auth';\nimport Message from '../../components/Message';\nimport Form from '../../components/Form';\nimport './LoginPage.css';\n\nclass LoginPage extends Component {\n    constructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tloading: false,\n\t\t\terror: ''\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = 'JW Footwear | Login';\n\t}\n\t\n\tonChange = e => {\n\t\tthis.setState({...this.state, [e.target.name]: e.target.value});\n\t}\n\t\n\tonSubmit = e => {\n\t\te.preventDefault();\n\t\tthis.setState({...this.state, loading: true})\n\t\tthis.props.logIn(e.target.username.value, e.target.password.value)\n\t\t\t.then(() => {\n\t\t\t\tthis.setState({...this.state, loading: false, error: ''});\n\t\t\t\tthis.props.history.push('/products');\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.setState({...this.state, loading: false, error: err});\n\t\t\t});\n\t}\n\t\n\trender() {\n\t\tconst {username, password, loading, error} = this.state;\n\t\t\n\t\tconst fields = [\n\t\t\t{label: 'Username', name: 'username', type: 'text', value: username},\n\t\t\t{label: 'Password', name: 'password', type: 'password', value: password}\n\t\t];\n\n\t\treturn (\n\t\t\t<div className='LoginPage-main-container'>\n\t\t\t\t<h2 className='LoginPage-message'>Log in to JW Footwear</h2>\n\t\t\t\t{error && (\n\t\t\t\t\t<Message color='red'>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t\t<Form onSubmit={this.onSubmit} \n\t\t\t\t\t\tonChange={this.onChange} \n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tfields={fields}\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nLoginPage.propTypes = {\n    logIn: PropTypes.func.isRequired,\n    history: PropTypes.object.isRequired\n};\n\nexport default connect(null, {logIn})(LoginPage);","import LoginPage from './LoginPage';\n\nexport default LoginPage;","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {signUp} from '../../store/actions/auth';\nimport Message from '../../components/Message';\nimport Form from '../../components/Form';\nimport PropTypes from 'prop-types';\nimport './SignupPage.css';\n\nclass SignupPage extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\trepeatPassword: '',\n\t\t\tloading: false,\n\t\t\terror: ''\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = 'JW Footwear | Signup';\n\t}\n\t\n\tonChange = e => {\n\t\tthis.setState({...this.state, [e.target.name]: e.target.value});\n\t}\n\t\n\tonSubmit = e => {\n\t\te.preventDefault();\n\t\tthis.setState({...this.state, loading: true});\n\t\tif(this.state.password !== this.state.repeatPassword){\n\t\t\treturn this.setState({...this.state, loading: false, error: \"Your passwords don't match\"});\n\t\t}\n\t\tthis.props.signUp(this.state.username, this.state.password)\n\t\t\t.then(() => {\n\t\t\t\tthis.setState({...this.state, loading: false, error: ''});\n\t\t\t\tthis.props.history.push('/accounts');\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.setState({...this.state, loading: false, error: err});\n\t\t\t});\n\t}\n\t\n\trender() {\n\t\tconst {username, password, repeatPassword, error, loading} = this.state;\n\n\t\tconst fields = [\n\t\t\t{label: 'Username', name: 'username', type: 'text', value: username},\n\t\t\t{label: 'Password', name: 'password', type: 'password', value: password},\n\t\t\t{label: 'Repeat Password', name: 'repeatPassword', type: 'password', value: repeatPassword}\n\t\t];\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2 className='SignupPage-message'>Sign up with JW Footwear</h2>\n\t\t\t\t{error && (\n\t\t\t\t\t<Message>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t\t<Form onSubmit={this.onSubmit} \n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\tloading={loading} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSignupPage.propTypes = {\n\tsignUp: PropTypes.func.isRequired,\n\thistory: PropTypes.object.isRequired\n};\n\nexport default connect(null, {signUp})(SignupPage);","import SignupPage from './SignupPage';\n\nexport default SignupPage;","import PasswordPage from './PasswordPage';\n\nexport default PasswordPage;","import React, {Component} from 'react';\nimport {apiCall} from '../../services/api';\nimport Message from '../../components/Message';\nimport Form from '../../components/Form';\nimport './PasswordPage.css';\n\nclass PasswordPage extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            currentPassword: '',\n            newPassword: '',\n            repeatNewPassword: '',\n            loading: false,\n            message: '',\n            messageColor: ''\n        };\n\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        document.title = 'JW Footwear | Password';\n    }\n\n    onChange(e){\n        this.setState({...this.state, [e.target.name]: e.target.value});\n    }\n\n    onSubmit(e){\n        e.preventDefault();\n        if(this.state.newPassword !== this.state.repeatNewPassword){\n            return this.setState({...this.state,\n                        currentPassword: '',\n                        newPassword: '',\n                        repeatNewPassword: '',\n                        message: 'New passwords must match',\n                        messageColor: 'red'\n                    });\n        }\n\n        this.setState({...this.state, loading: true});\n        apiCall('POST', `/auth/changePassword`, {\n            currentPassword: this.state.currentPassword,\n            newPassword: this.state.newPassword,\n            repeatNewPassword: this.state.repeatNewPassword\n        })\n            .then(response => {\n                    const message = 'error' in response ? response.error : response.message;\n                    const color = 'error' in response ? 'red' : 'green';\n                    this.setState({\n                        currentPassword: '',\n                        newPassword: '',\n                        repeatNewPassword: '',\n                        loading: false,\n                        message: message,\n                        messageColor: color\n                    });\n            });\n    }\n\n    render() {\n        const {currentPassword, newPassword, repeatNewPassword, \n            message, messageColor, loading} = this.state;\n\n        const fields = [\n            {label: 'Current Password', name: 'currentPassword', type: 'password', value: currentPassword},\n            {label: 'New Password', name: 'newPassword', type: 'password', value: newPassword},\n            {label: 'Repeat New Password', name: 'repeatNewPassword', type: 'password', value: repeatNewPassword}\n        ];\n\n        return (\n            <div style={{marginBottom: '20px'}}>\n                <h2 className='PasswordPage-message'>Change your password</h2>\n                {message && (\n                    <Message color={messageColor} >\n                        {message}\n                    </Message>\n                )}\n                <Form onSubmit={this.onSubmit} \n                        onChange={this.onChange}\n                        fields={fields}\n                        loading={loading}/>\n                \n            </div>\n        );\n    }\n}\n\nexport default PasswordPage;","import {GET_PRODUCTS} from '../actionTypes';\nimport {apiCall} from '../../services/api';\n\nexport function getProducts() {\n\treturn dispatch => {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst resp = await apiCall('get', '/products', {});\n\t\t\t\tif(resp.error){\n\t\t\t\t\treturn reject(resp.error);\n\t\t\t\t}\n\t\t\t\tif(!resp.products){\n\t\t\t\t\treturn reject('Error getting products');\n\t\t\t\t}\n\t\t\t\tdispatch({type: GET_PRODUCTS, ...resp});\n\t\t\t\treturn resolve();\n\t\t\t} catch(err) {\n\t\t\t\treturn reject(err.message);\n\t\t\t}\n\t\t});\n\t}\n}","import Rating from './Rating';\n\nexport default Rating;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Rating.css';\n\nconst Rating = ({rating, onClick, className=''}) => {\n    const stars = [];\n    for(let i = 1; i <= 5; i++){\n        const solid = i <= rating ? \"fas fa-star \" : \"far fa-star \";\n        stars.push(<i className={solid + className} onClick={onClick && onClick.bind(this, i)} key={i}></i>);\n    }\n\n    return (\n        <div>\n            {stars}\n        </div>\n    );\n}\n\nRating.propTypes = {\n    rating: PropTypes.number.isRequired\n};\n\nexport default Rating;","import Product from './Product';\n\nexport default Product;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport Rating from '../Rating';\nimport PropTypes from 'prop-types';\nimport './Product.css';\n\nconst Product = ({name, price, shortDescription, imageUrl, rating, numReviews, _id}) => (\n    <Link className='Product' to={`/products/${_id}`}>\n        <img className=\"Product-image\" src={imageUrl} alt={name} />\n        <div className=\"Product-row\">\n            <h3>{name}</h3>\n            <p className='Product-price'>${price}</p>\n        </div>\n        <div className=\"Product-row\">\n            <div>\n                <Rating rating={rating} />\n            </div>\n            <p>{numReviews} reviews</p>\n        </div>\n        <p className='Product-description'>{shortDescription}</p>\n    </Link>\n);\n\nProduct.propTypes = {\n    name: PropTypes.string.isRequired, \n    price: PropTypes.number.isRequired,\n    shortDescription: PropTypes.string.isRequired, \n    imageUrl: PropTypes.string.isRequired, \n    rating: PropTypes.number.isRequired, \n    numReviews: PropTypes.number.isRequired, \n    _id: PropTypes.string.isRequired\n};\n\nexport default Product;","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {getProducts} from '../../store/actions/products';\nimport Product from '../../components/Product';\nimport Message from '../../components/Message';\nimport PropTypes from 'prop-types';\nimport './ProductPage.css';\n\nclass ProductPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            message: ''\n        };\n    }\n\n    componentDidMount(){\n        document.title = 'JW Footwear | Products';\n        if(!this.props.lastUpdated){\n            this.props.getProducts()\n                .catch(err => console.log(err));\n        }\n    }\n\n    render() {\n        const {products} = this.props;\n        const {message} = this.state;\n\n        let productElements = [];\n        if(products.length > 0){\n            products.forEach(p => productElements.push(<Product \n                                                            name={p.name} \n                                                            price={p.price} \n                                                            shortDescription={p.shortDescription} \n                                                            imageUrl={p.imageUrl}\n                                                            rating={p.rating}\n                                                            numReviews={p.reviews.length}\n                                                            _id={p._id}\n                                                            key={p._id}\n                                                        />));\n        } else {\n            productElements.push(<p key='loading'>Loading...</p>)\n        }\n\n        return (\n            <div>\n                {message && <Message>{message}</Message>}\n                <p className='ProductPage-materials'>Our shoes are made from the highest quality materials.</p>\n                <div className='ProductPage-product-container'>\n                    {productElements}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        products: state.productReducer.products,\n        lastUpdated: state.productReducer.lastUpdated\n    };\n}\n\nProductPage.propTypes = {\n    getProducts: PropTypes.func.isRequired,\n    products: PropTypes.array.isRequired,\n    lastUpdated: PropTypes.number.isRequired\n};\n\nexport default connect(mapStateToProps, {getProducts})(ProductPage);","import ProductPage from './ProductPage';\n\nexport default ProductPage;","import AvailableSizes from './AvailableSizes';\n\nexport default AvailableSizes;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './AvailableSizes.css';\n\nconst AvailableSizes = ({availableSizes, selectedSize, updateSize}) => {\n    const sizes = [];\n    for(let i = 6; i < 14; i+= 0.5){\n        if(availableSizes.includes(i)) {\n            if(selectedSize === i){\n                sizes.push(<div className=\"Size Size-selected\" onClick={updateSize.bind(this, i)} key={i}>{i}</div>);\n            } else {\n                sizes.push(<div className=\"Size\" onClick={updateSize.bind(this, i)} key={i}>{i}</div>);\n            }\n        } else {\n            sizes.push(<div className=\"Size Size-deactivated\" key={i}>{i}</div>);\n        }\n    }\n\n    return (\n        <div className='Size-container'>\n            {sizes}\n        </div>\n    );\n};\n\nAvailableSizes.propTypes = {\n    availableSizes: PropTypes.array.isRequired,\n    selectedSize: PropTypes.number.isRequired,\n    updateSize: PropTypes.func.isRequired\n};\n\nexport default AvailableSizes;","import Review from './Review';\n\nexport default Review;","import React from 'react';\nimport Rating from '../Rating';\nimport PropTypes from 'prop-types';\nimport './Review.css';\n\nconst Review = ({rating, author, comment}) => (\n    <div className=\"Review\">\n        <div className='Review-inner-container'>\n            <Rating rating={rating} />\n            <p className='Review-author'>{author}</p>\n        </div>\n        <p className='Review-comment'>{comment}</p>\n    </div>\n);\n\nReview.propTypes = {\n    rating: PropTypes.number.isRequired,\n    author: PropTypes.string.isRequired,\n    comment: PropTypes.string.isRequired\n};\n\nexport default Review;","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport Rating from '../../components/Rating';\nimport AvailableSizes from '../../components/AvailableSizes';\nimport Review from '../../components/Review';\nimport {getProducts} from '../../store/actions/products';\nimport {addCartItem} from '../../store/actions/cart';\nimport {getReviews} from '../../store/actions/reviews';\nimport Message from '../../components/Message';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './ShowPage.css';\n\nclass ShowPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            selectedSize: 0,\n            message: '',\n            messageColor: ''\n        };\n        this.addToCart = this.addToCart.bind(this);\n        this.updateSize = this.updateSize.bind(this);\n    }\n\n    updateSize(size){\n        this.setState({...this.state, selectedSize: size});\n    }\n\n    addToCart(){\n        const productId = this.props.match.params.productId;\n        const selectedSize = this.state.selectedSize;\n\n        this.timeout = setTimeout(() => this.setState({...this.state, message: '', messageColor: ''}), 3000);\n        if(selectedSize === 0){\n            this.setState({...this.state, message: 'Select a size first', messageColor: 'red'});\n            return false;\n        }\n\n        this.props.addCartItem(productId, selectedSize, 1);\n        this.setState({...this.state, selectedSize: 0, message: 'Item added to cart', messageColor: 'green'});\n    }\n\n    componentWillUnmount(){\n        clearTimeout(this.timeout);\n    }\n\n    componentDidMount(){\n        const productId = this.props.match.params.productId;\n        let {products, reviews, getProducts, getReviews} = this.props;\n\n        if(products.length === 0){\n            getProducts()\n                .then(() => {\n                    products = this.props.products;\n                    const product = products.find(p => p._id === productId);\n                    document.title = `JW Footwear | ${product.name}`;\n                })\n                .catch(err => this.setState({...this.state, messageColor: 'red', message: err}));\n        } else {\n            const product = products.find(p => p._id === productId);\n            document.title = `JW Footwear | ${product.name}`;\n        }\n        \n        if(!(productId in reviews)){\n            getReviews(productId)\n                .catch(err => this.setState({...this.state, messageColor: 'red', message: err}));\n        }\n    }\n\n    render() {\n        const {match, products, orderedProducts} = this.props;\n        const {selectedSize, message, messageColor} = this.state;\n        const reviews = this.props.reviews[match.params.productId];\n\n        if(products.length === 0){\n            return (<p style={{textAlign: 'center'}}>Loading...</p>);\n        }\n\n        const {\n            name, \n            rating, \n            availableSizes, \n            longDescription,\n            imageUrl, \n            price\n        } = products.find(p => p._id === match.params.productId);\n\n        const reviewElements = reviews && reviews.map(r => (\n            <Review rating={r.rating} author={r.authorUsername} comment={r.text} key={r._id}/>\n        ));\n\n        return (\n            <div className=\"ShowPage-main-container\">\n                <h2>{name}</h2>\n                <div className=\"ShowPage-inner-container\">\n                    <img className='ShowPage-image' src={imageUrl} alt='Shoe' />\n                    <AvailableSizes availableSizes={availableSizes} selectedSize={selectedSize} updateSize={this.updateSize}/>\n                    <div className='ShowPage-price-container'>\n                        <p className='ShowPage-price'>${price.toFixed(2)}</p>\n                        <Rating rating={rating} className='ShowPage-rating'/>\n                        <button onClick={this.addToCart}>Add to Cart</button>\n                        {message && (\n                            <Message color={messageColor}>\n                                {message}\n                            </Message>\n                        )}\n                    </div>\n                </div>\n                <h2>Description</h2>\n                <p className='ShowPage-description'>{longDescription}</p>\n                <h2>Reviews</h2>\n                <div className='ShowPage-reviews-container'>\n                    <div>\n                        {reviewElements}\n                    </div>\n                    <div>\n                        {orderedProducts.includes(match.params.productId) && (\n                            <Link to={`/review/${match.params.productId}`}>Add&nbsp;Review</Link>\n                        )}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        products: state.productReducer.products,\n        reviews: state.reviewReducer,\n        orderedProducts: state.authReducer.orderedProducts\n    };\n}\n\nShowPage.propTypes = {\n    match: PropTypes.object.isRequired,\n    products: PropTypes.array.isRequired,\n    getProducts: PropTypes.func.isRequired,\n    addCartItem: PropTypes.func.isRequired,\n    reviews: PropTypes.object,\n    getReviews: PropTypes.func.isRequired,\n    orderedProducts: PropTypes.array\n};\n\nexport default connect(mapStateToProps, {getProducts, addCartItem, getReviews})(ShowPage);","import ShowPage from './ShowPage';\n\nexport default ShowPage;","import {ADD_CART_ITEM, RESTORE_CART, REMOVE_CART_ITEM, EMPTY_CART} from '../actionTypes';\n\nexport function addCartItem(id, size, quantity) {\n\tlet lsCart = JSON.parse(localStorage.getItem('cart'));\n\tif(!lsCart){\n\t\tlsCart = [{id, size, quantity}]\n\t} else {\n\t\tconst idSizeCombo = lsCart.find(item => item.id === id && item.size === size);\n\t\tif(idSizeCombo){\n\t\t\tidSizeCombo.quantity += quantity;\n\t\t} else {\n\t\t\tlsCart.push({id, size, quantity});\n\t\t}\n\t}\n\tlocalStorage.setItem('cart', JSON.stringify(lsCart));\n\n\tconst lsCartCount = +localStorage.getItem('cartCount') || 0;\n\tlocalStorage.setItem('cartCount', lsCartCount + quantity);\n\n\treturn {type: ADD_CART_ITEM, id, size, quantity};\n}\n\nexport function restoreCart(){\n\tconst lsCart = JSON.parse(localStorage.getItem('cart')) || [];\n\tconst lsCartCount = +localStorage.getItem('cartCount') || 0;\n\treturn {type: RESTORE_CART, lsCart, lsCartCount};\n}\n\nexport function removeCartItem(id, size, quantity){\n\tlet lsCart = JSON.parse(localStorage.getItem('cart')) || [];\n\tlet lsCartCount = +localStorage.getItem('cartCount') || 0;\n\n\tlsCart = lsCart.filter(item => item.id !== id || item.size !== size);\n\tlsCartCount -= quantity;\n\n\tlocalStorage.setItem('cart', JSON.stringify(lsCart));\n\tlocalStorage.setItem('cartCount', lsCartCount);\n\treturn {type: REMOVE_CART_ITEM, id, size, quantity};\n}\n\nexport function emptyCart(){\n\tlocalStorage.setItem('cart', '[]');\n\tlocalStorage.setItem('cartCount', '0');\n\treturn {type: EMPTY_CART};\n}","import {GET_REVIEWS} from '../actionTypes';\nimport {apiCall} from '../../services/api';\n\nexport function submitReview(productId, text, rating){\n    return dispatch => {\n        return new Promise(async function(resolve, reject){\n            try {\n                const resp = await apiCall('post', `/reviews/${productId}`, {text, rating});\n                if(resp.error){\n                    return reject(resp.error);\n                }\n\n                dispatch({type: GET_REVIEWS, productId, reviews: resp});\n                return resolve();\n            } catch (err) {\n                return reject(err.message);\n            }\n        })\n    }\n}\n\nexport function getReviews(productId){\n    return dispatch => {\n        return new Promise(async function(resolve, reject){\n            try {\n                const resp = await apiCall('get', `/reviews/${productId}`, {});\n                if(resp.error){\n                    return reject(resp.error);\n                }\n\n                dispatch({type: GET_REVIEWS, productId, reviews: resp});\n                return resolve();\n            } catch (err) {\n                return reject(err.message);\n            }\n        })\n    }\n}","import Item from './Item';\n\nexport default Item;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Item.css';\n\nconst CartItem = ({id, imageUrl, name, size, price, quantity, longDescription, removeCartItem}) => (\n    <div className=\"CartItem\">\n        <div className='CartItem-outer-container'>\n            <img src={imageUrl} alt=\"Shoe\" />\n            <div className='CartItem-inner-container'>\n                <div className='CartItem-name-container'>\n                    <h3>{name}</h3>\n                    <p>Size: {size}</p>\n                </div>\n                <div className='CartItem-price-container'>\n                    <p className='CartItem-price'>${price.toFixed(2)}</p>\n                    <p className='CartItem-quantity'>Quantity: {quantity}</p>\n                </div>\n            </div> \n        </div>\n        <p className='CartItem-description'>{longDescription}</p>                 \n        {removeCartItem && (<p className='CartItem-remove' onClick={removeCartItem.bind(this, id, size, quantity)}>Remove</p>)}\n    </div>\n);\n\nCartItem.propTypes = {\n    imageUrl: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    size: PropTypes.number.isRequired,\n    price: PropTypes.number.isRequired,\n    quantity: PropTypes.number.isRequired,\n    longDescription: PropTypes.string.isRequired,\n    removeCartItem: PropTypes.func\n};\n\nexport default CartItem;","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport Item from '../../components/Item';\nimport Message from '../../components/Message';\nimport PropTypes from 'prop-types';\nimport {getProducts} from '../../store/actions/products';\nimport {removeCartItem} from '../../store/actions/cart';\nimport './CartPage.css';\n\nclass CartPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            message: ''\n        };\n    }\n\n    componentDidMount(){\n        document.title = 'JW Footwear | Cart';\n        if(!this.props.lastUpdated){\n            this.props.getProducts()\n                .catch(err => this.setState({...this.state, message: err}));\n        }\n    }\n\n    render() {\n        const {cart, products, lastUpdated, removeCartItem, history} = this.props;\n        const {message} = this.state;\n\n        if(!lastUpdated){\n            return (<p style={{textAlign: 'center'}}>Loading...</p>);\n        }      \n\n        let subTotalPrice = 0;\n        const cartItemElements = cart?.map(item => {\n            const product = products.find(product => product._id === item.id);\n            subTotalPrice += product.price * item.quantity;\n            return (<Item \n                id={item.id}\n                imageUrl={product.imageUrl} \n                name={product.name} \n                size={+item.size}\n                price={product.price} \n                quantity={item.quantity} \n                longDescription={product.longDescription}\n                removeCartItem={removeCartItem}\n                key={`${product.name}${item.size}`}\n            />)\n        });\n\n        const shipping = subTotalPrice ? 10 : 0;\n\n        return (\n            <div className=\"CartPage-main-container\">\n                <h2>Your Cart</h2>\n                {message && (<Message>{message}</Message>)}\n                <div className=\"CartPage-inner-container\">\n                    <div className=\"CartPage-items\">\n                        {cartItemElements}\n                    </div>\n\n                    <div className=\"CartPage-summary-container\">\n                        <div className=\"CartPage-summary\">\n                            <h3>Summary</h3>\n                            <div className='CartPage-summary-line'>\n                                <p>Subtotal:</p>\n                                <p>${subTotalPrice.toFixed(2)}</p>\n                            </div>\n                            <div className='CartPage-summary-line CartPage-small'>\n                                <p>Shipping:</p>\n                                <p>${shipping.toFixed(2)}</p>\n                            </div>\n                            <div className='CartPage-summary-line CartPage-small'>\n                                <p>Taxes:</p>\n                                <p>${(subTotalPrice*.0635).toFixed(2)}</p>\n                            </div>\n                            <hr />\n                            <div className='CartPage-summary-line'>\n                                <p>Total:</p>\n                                <p>${(subTotalPrice*1.0635+shipping).toFixed(2)}</p>\n                            </div>\n                        </div>\n                        <button onClick={() => history.push('/checkout')}>Checkout</button>\n                    </div>\n                    \n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        cart: state?.cartReducer?.cart,\n        products: state?.productReducer?.products,\n        lastUpdated: state?.productReducer?.lastUpdated\n    };\n}\n\nCartPage.propTypes = {\n    cart: PropTypes.array,\n    lastUpdated: PropTypes.number,\n    getProducts: PropTypes.func.isRequired,\n    removeCartItem: PropTypes.func.isRequired,\n    history: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, {getProducts, removeCartItem})(CartPage);","import CartPage from './CartPage';\n\nexport default CartPage;","import InputField from './InputField';\n\nexport default InputField;","import React from 'react';\nimport './InputField.css';\n\nconst InputField = ({name, type, value, onChange, placeholder, ...props}) => (\n    <input type={type} className='InputField-field' value={value} onChange={onChange} id={name} \n        name={name} placeholder={placeholder} autoComplete='off' autoCorrect='off' autoCapitalize='none' {...props} required />\n);\n\nexport default InputField;","import {GET_ORDERS} from '../actionTypes';\nimport {apiCall} from '../../services/api';\nimport {getOrderedProducts} from './auth';\n\nexport function placeOrder(order){\n    return dispatch => {\n        return new Promise(async function(resolve, reject){\n            try {\n                let resp = await apiCall('post', '/orders', order);\n                if(resp.error){\n\t\t\t\t\treturn reject(resp.error);\n                }\n                const orders = resp.sort((a, b) => (new Date(b.date)) - (new Date(a.date)));\n                dispatch({type: GET_ORDERS, orders});\n\n                await getOrderedProducts()(dispatch);\n                \n                return resolve();\n            } catch(err) {\n                return reject(err.message);\n            }\n        });\n    };\n}\n\nexport function getOrders(){\n    return dispatch => {\n        return new Promise(async function(resolve, reject){\n            try {\n                const resp = await apiCall('get', '/orders', {});\n                if(resp.error){\n\t\t\t\t\treturn reject(resp.error);\n                }\n                const orders = resp.sort((a, b) => (new Date(b.date)) - (new Date(a.date)));\n                dispatch({type: GET_ORDERS, orders});\n                return resolve();\n            } catch(err) {\n                return reject(err.message);\n            }\n        });\n    };\n}","import React, {Component} from 'react';\nimport InputField from '../../components/InputField';\nimport Button from '../../components/Button';\nimport Message from '../../components/Message';\nimport {connect} from 'react-redux';\nimport {placeOrder} from '../../store/actions/orders';\nimport {emptyCart} from '../../store/actions/cart';\nimport PropTypes from 'prop-types';\nimport './CheckoutPage.css';\n\nclass CheckoutPage extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            name: '',\n            address: '',\n            city: '',\n            state: '',\n            card: '',\n            expDate: '',\n            secCode: '',\n            message: '',\n            messageColor: 'red'\n        };\n\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    componentDidMount(){\n        document.title = 'JW Footwear | Checkout';\n        if(!this.props.cart.length){\n            this.props.history.push('/cart');\n        }\n    }\n\n    onChange(e) {\n        this.setState({...this.state, [e.target.name]: e.target.value});\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const {name, address, city, state,\n            card, expDate, secCode} = this.state;\n\n        this.props.placeOrder({\n            items: this.props.cart,\n            name,\n            address,\n            city,\n            state,\n            card,\n            expDate,\n            secCode\n        })\n        .then(() => {\n            this.setState({\n                name: '',\n                address: '',\n                city: '',\n                state: '',\n                card: '',\n                expDate: '',\n                secCode: '',\n                message: 'Your order has been placed successfully.  You will be redirected in 3 seconds.',\n                messageColor: 'green'\n            })\n            return new Promise(resolve => setTimeout(() => resolve(), 3000));\n        })\n        .then(() => {\n            this.props.emptyCart();\n            this.props.history.push('/products');\n        })\n        .catch(err => this.setState({...this.state, messageColor: 'red', message: err}));\n    }\n\n    render() {\n        const {name, address, city, state, \n            card, expDate, secCode, message, messageColor} = this.state;\n\n        return (\n            <div className='CheckoutPage-main-container'>\n                <h2>Checkout</h2>\n                {message && (<Message color={messageColor}>{message}</Message>)}\n                <form className='CheckoutPage-form' onSubmit={this.onSubmit}>\n                    <div>\n                        <div className='CheckoutPage-subform'>\n                            <h3>Shipping Information</h3>\n                            <label htmlFor='name' className='CheckoutPage-label' >Full Name:</label>\n                            <InputField name='name' type='text' value={name} placeholder='John Doe' onChange={this.onChange} />\n\n                            <label htmlFor='address' className='CheckoutPage-label' >Street Address:</label>\n                            <InputField name='address' type='text' value={address} placeholder='100 Wall Street' onChange={this.onChange} />\n\n                            <div className='CheckoutPage-field-container'>\n                                <div style={{marginRight: '20px'}}>\n                                    <label htmlFor='city' className='CheckoutPage-label' >City:</label>\n                                    <InputField name='city' type='text' value={city} placeholder='New York City' onChange={this.onChange} style={{marginRight: '20px'}}/>\n                                </div>\n                                <div>\n                                    <label htmlFor='state' className='CheckoutPage-label' >State <span>(2 letter abbr.):</span></label>\n                                    <InputField name='state' type='text' value={state} placeholder='NY' minLength='2' maxLength='2' onChange={this.onChange} />\n                                </div>\n                            </div>\n                        </div>\n                        <div className='CheckoutPage-subform'>\n                            <h3>Payment Information</h3>\n                            <label htmlFor='card' className='CheckoutPage-label' >Card Number <span>(Use a fake one):</span></label>\n                            <InputField name='card' type='text' value={card} placeholder='3333444455556666' pattern='[\\d]*' minLength='16' maxLength='16' onChange={this.onChange} />\n\n                            <div className='CheckoutPage-field-container'>\n                                <div style={{marginRight: '20px'}}>\n                                    <label htmlFor='expDate' className='CheckoutPage-label' >Exp. Date <span>(MM/YY):</span></label>\n                                    <InputField name='expDate' type='text' value={expDate} placeholder='01/25' pattern='[\\d]{2}/[\\d]{2}' onChange={this.onChange}/>\n                                </div>\n                                <div>\n                                    <label htmlFor='secCode' className='CheckoutPage-label' >Security Code:</label>\n                                    <InputField name='secCode' type='text' value={secCode} placeholder='793' pattern='[\\d]*' minLength='3' maxLength='3' onChange={this.onChange} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <Button form className='CheckoutPage-btn'>Place Order</Button>\n                </form>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        cart: state.cartReducer.cart\n    };\n}\n\nCheckoutPage.propTypes = {\n    cart: PropTypes.array.isRequired,\n    placeOrder: PropTypes.func.isRequired,\n    emptyCart: PropTypes.func.isRequired,\n    history: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, {placeOrder, emptyCart})(CheckoutPage);","import CheckoutPage from './CheckoutPage';\n\nexport default CheckoutPage;","import Options from './Options';\n\nexport default Options;","import React from 'react';\nimport './Options.css';\nimport {Link} from 'react-router-dom';\n\nconst Container = ({children}) => (\n    <div className='Options-container'>\n        {children}\n    </div>\n);\n\nconst Item = ({children, to}) => (\n    <Link className='Options-item' to={to}>\n        {children}\n    </Link>\n);\n\nconst Options = {Container, Item};\n\nexport default Options;","import ProfilePage from './ProfilePage';\n\nexport default ProfilePage;","import React, {useEffect} from 'react';\nimport './ProfilePage.css';\nimport Options from '../../components/Options';\n\nconst ProfilePage = () => {\n    useEffect(() => document.title = 'JW Footwear | Profile');\n\n    return (\n        <div className='ProfilePage-main-container'>\n            <h2>Your Account</h2>\n            <Options.Container>\n                <Options.Item to='/orders'>\n                    Order History\n                </Options.Item>\n                <Options.Item to='/password'>\n                    Change Password\n                </Options.Item>\n            </Options.Container>\n        </div>\n    )\n};\n\nexport default ProfilePage;","import React, {Component} from 'react';\nimport './OrderHistoryPage.css';\nimport Options from '../../components/Options';\nimport Message from '../../components/Message';\nimport {connect} from 'react-redux';\nimport {getOrders} from '../../store/actions/orders';\nimport PropTypes from 'prop-types';\nimport dayjs from 'dayjs';\n\nclass OrderHistoryPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            message: ''\n        };\n    }\n\n    componentDidMount(){\n        document.title = 'JW Footwear | Order History';\n        if(!this.props.lastUpdated){\n            this.props.getOrders()\n                .catch(err => this.setState({...this.state, message: err}));\n        }\n    }\n\n    render() {\n        const {orders} = this.props;\n        const {message} = this.state;\n\n        const optionElements = orders?.map(o => {\n            const numItems = o.items.reduce((acc, next) => acc + next.quantity, 0) || 0;\n            const total = o.subTotal + o.shipping + o.taxes;\n            \n            return (\n                <Options.Item to={`/orders/${o._id}`} key={o._id}>\n                    <div className='OrderHistoryPage-option-container'>\n                        <p>{dayjs(o.date).format('MM/DD/YYYY')}</p>\n                        <p>{numItems} items</p>\n                        <p>${total.toFixed(2)}</p>\n                    </div>\n                </Options.Item>\n            )}\n        );\n\n        return (\n            <div className='OrderHistoryPage-main-container'>\n                <h2>Order History</h2>\n                {message && <Message>{message}</Message>}\n                <Options.Container>\n                    {optionElements.length ? \n                        optionElements : \n                        (<p style={{textAlign: 'center'}}>You haven't placed any orders yet.</p>)\n                    }\n                </Options.Container>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        orders: state.orderReducer.orders,\n        lastUpdated: state.orderReducer.lastUpdated\n    };\n}\n\nOrderHistoryPage.propTypes = {\n    order: PropTypes.array,\n    lastUpdated: PropTypes.number,\n    getOrders: PropTypes.func.isRequired\n};\n\nexport default connect(mapStateToProps, {getOrders})(OrderHistoryPage);","import OrderHistoryPage from './OrderHistoryPage';\n\nexport default OrderHistoryPage;","import React, {Component} from 'react';\nimport './OrderShowPage.css';\nimport {connect} from 'react-redux';\nimport {getOrders} from '../../store/actions/orders';\nimport {getProducts} from '../../store/actions/products';\nimport PropTypes from 'prop-types';\nimport dayjs from 'dayjs';\nimport Item from '../../components/Item';\nimport Message from '../../components/Message';\n\nclass OrderShowPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            message: ''\n        };\n    }\n\n    componentDidMount(){\n        document.title = 'JW Footwear | Order';\n        if(!this.props.lastUpdatedOrders){\n            this.props.getOrders()\n                .catch(err => this.setState({...this.state, message: err}));\n        }\n        if(!this.props.lastUpdatedProducts){\n            this.props.getProducts()\n                .catch(err => this.setState({...this.state, message: err}));\n        }\n    }\n\n    render() {\n        const {orders, products, lastUpdatedOrders, lastUpdatedProducts, match} = this.props;\n        const {message} = this.state;\n        const order = orders.find(o => o._id === match.params.orderId);\n        const total = order?.subTotal + order?.shipping + order?.taxes;\n\n        if(!lastUpdatedOrders || !lastUpdatedProducts) {\n            return (<p style={{textAlign: 'center'}}>Loading...</p>);\n        }\n\n        const orderItemElements = order?.items?.map(item => {\n            const product = products.find(product => product._id === item.id);\n            return (<Item \n                        id={item.id}\n                        imageUrl={product.imageUrl} \n                        name={product.name} \n                        size={+item.size}\n                        price={product.price} \n                        quantity={item.quantity} \n                        longDescription={product.longDescription}\n                        key={`${product.name}${item.size}`}\n                    />);\n        });\n\n        return (\n            <div className=\"OrderShowPage-main-container\">\n                <h2>Your Order</h2>\n                {message && <Message>{message}</Message>}\n                <p className='OrderShowPage-date'>{dayjs(order.date).format('MM/DD/YYYY')}</p>\n                <div className=\"OrderShowPage-inner-container\">\n                    <div className=\"OrderShowPage-items\">\n                        {orderItemElements}\n                    </div>\n\n                    <div className=\"OrderShowPage-info-container\">\n                        <div className=\"OrderShowPage-info\">\n                            <h3>Summary</h3>\n                            <div className='OrderShowPage-info-line'>\n                                <p>Subtotal:</p>\n                                <p>${order.subTotal.toFixed(2)}</p>\n                            </div>\n                            <div className='OrderShowPage-info-line OrderShowPage-small'>\n                                <p>Shipping:</p>\n                                <p>${order.shipping.toFixed(2)}</p>\n                            </div>\n                            <div className='OrderShowPage-info-line OrderShowPage-small'>\n                                <p>Taxes:</p>\n                                <p>${order.taxes.toFixed(2)}</p>\n                            </div>\n                            <hr />\n                            <div className='OrderShowPage-info-line'>\n                                <p>Total:</p>\n                                <p>${total.toFixed(2)}</p>\n                            </div>\n                        </div>\n                        <div className=\"OrderShowPage-info\">\n                            <h3>Payment Information</h3>\n                            <div className='OrderShowPage-info-line'>\n                                <p>Name:</p>\n                                <p>{order.name}</p>\n                            </div>\n                            <div className='OrderShowPage-info-line'>\n                                <p>Address:</p>\n                                <div>\n                                    <p>{order.address}</p>\n                                    <p>{order.city}, {order.state}</p>\n                                </div>\n                            </div>\n                            <div className='OrderShowPage-info-line'>\n                                <p>Card Number:</p>\n                                <p>{'XXXX-XXXX-XXXX-' + String(order.card)}</p>\n                            </div>\n                            <div className='OrderShowPage-info-line'>\n                                <p>Expiration Date:</p>\n                                <p>{order.expDate}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        orders: state.orderReducer.orders,\n        lastUpdatedOrders: state.orderReducer.lastUpdated,\n        products: state.productReducer.products,\n        lastUpdatedProducts: state.productReducer.lastUpdated\n    };\n}\n\nOrderShowPage.propTypes = {\n    orders: PropTypes.array,\n    lastUpdatedOrders: PropTypes.number,\n    getOrders: PropTypes.func.isRequired,\n    match: PropTypes.object.isRequired,\n    lastUpdatedProducts: PropTypes.number,\n    getProducts: PropTypes.func.isRequired\n};\n\nexport default connect(mapStateToProps, {getOrders, getProducts})(OrderShowPage);","import OrderShowPage from './OrderShowPage';\n\nexport default OrderShowPage;","import React, {Component} from 'react';\nimport './ReviewPage.css';\nimport {connect} from 'react-redux';\nimport Rating from '../../components/Rating';\nimport Message from '../../components/Message';\nimport {submitReview} from '../../store/actions/reviews';\nimport {getProducts} from '../../store/actions/products';\nimport PropTypes from 'prop-types';\n\nclass ReviewPage extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            rating: 0,\n            text: '',\n            message: '',\n            messageColor: ''\n        };\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        document.title = 'JW Footwear | Review';\n\n        const {orderedProducts, match, history, products, getProducts} = this.props;\n        if(!orderedProducts?.includes(match.params.productId)){\n            history.push('/products');\n        }\n\n        if(!products?.length){\n            getProducts()\n                .catch(err => this.setState({...this.state, messageColor: 'red', message: err}));\n        }\n    }\n\n    onChange(e){\n        this.setState({...this.state, [e.target.name]: e.target.value});\n    }\n\n    onSubmit(e){\n        e.preventDefault();\n        const {text, rating} = this.state;\n        const {match, history, submitReview, getProducts} = this.props;\n        const productId = match.params.productId;\n\n        submitReview(productId, text, rating)\n            .then(() => {\n                this.setState({\n                    rating: 0,\n                    text: '',\n                    message: 'Your review has been submitted successfully.  You will be redirected in 3 seconds.',\n                    messageColor: 'green'\n                });\n                return getProducts();\n            })\n            .then(() => new Promise(resolve => setTimeout(() => resolve(), 3000)))\n            .then(() => history.push(`/products/${productId}`))\n            .catch(err => this.setState({...this.state, messageColor: 'red', message: err}));\n    }\n\n    render() {\n        const {rating, text, message, messageColor} = this.state;\n        const {products, match} = this.props;\n\n        const product = products.find(p => p._id === match.params.productId);\n\n        if(!product){\n            return (<p style={{textAlign: 'center'}}>Loading...</p>);\n        }\n\n        return (\n            <div className='ReviewPage-main-container'>\n                <h2>Add a Review</h2>\n                {message && (<Message color={messageColor}>{message}</Message>)}\n                <div className='ReviewPage-item-container'>\n                    <img src={product.imageUrl} alt={product.name} />\n                    <div>\n                        <h3>{product.name}</h3>\n                        <p>{product.longDescription}</p>\n                    </div>\n                </div>\n                <form className='ReviewPage-form' onSubmit={this.onSubmit}>\n                    <div className='ReviewPage-rating-container'>\n                        <label>Rating:</label>\n                        <Rating rating={rating} onClick={rating => this.setState({...this.state, rating})} className='ReviewPage-rating'/>\n                    </div>\n                    <label htmlFor='ReviewPage-text'>Review:</label>\n                    <textarea id='ReviewPage-text' placeholder='Type your review here...' name='text' value={text} onChange={this.onChange}></textarea>\n                    <button>Submit</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        products: state.productReducer.products,\n        orderedProducts: state.authReducer.orderedProducts\n    };\n}\n\nReviewPage.propTypes = {\n    match: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    products: PropTypes.array,\n    submitReview: PropTypes.func.isRequired,\n    getProducts: PropTypes.func.isRequired,\n    orderedProducts: PropTypes.array\n};\n\nexport default connect(mapStateToProps, {submitReview, getProducts})(ReviewPage);","import ReviewPage from './ReviewPage';\n\nexport default ReviewPage;","import React, {Component} from 'react';\nimport './App.css';\nimport Navbar from '../../components/Navbar';\nimport Footer from '../../components/Footer';\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\nimport withAuth from '../../hocs/withAuth';\nimport LandingPage from '../LandingPage';\nimport AboutPage from '../AboutPage';\nimport LoginPage from '../LoginPage';\nimport SignupPage from '../SignupPage';\nimport PasswordPage from '../PasswordPage';\nimport ProductPage from '../ProductPage';\nimport ShowPage from '../ShowPage';\nimport CartPage from '../CartPage';\nimport CheckoutPage from '../CheckoutPage';\nimport ProfilePage from '../ProfilePage';\nimport OrderHistoryPage from '../OrderHistoryPage';\nimport OrderShowPage from '../OrderShowPage';\nimport ReviewPage from '../ReviewPage';\nimport {restoreCart} from '../../store/actions/cart';\nimport {logOut} from '../../store/actions/auth';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\n\n\nclass App extends Component {\n    componentDidMount(){\n        this.props.restoreCart();\n        this.updateWindowDimensions();\n        window.addEventListener('resize', this.updateWindowDimensions);\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions(){\n        const html = document.querySelector('html');\n        html.style.minHeight = `${window.innerHeight}px`;\n    }\n\n    render() {\n        const {username, cartCount, logOut} = this.props;\n\n        return (\n            <Router>\n                <div className=\"App\">\n                    <Navbar username={username} cartCount={cartCount} logOut={logOut} />\n                    <Switch>\n                        <Route path='/review/:productId' component={withAuth(ReviewPage)} />\n                        <Route path='/orders/:orderId' component={withAuth(OrderShowPage)} />\n                        <Route path='/orders' component={withAuth(OrderHistoryPage)} />\n                        <Route path='/profile' component={withAuth(ProfilePage)} />\n                        <Route path='/checkout' component={withAuth(CheckoutPage)} />\n                        <Route path='/cart' component={CartPage} />\n                        <Route path='/products/:productId' component={ShowPage} />\n                        <Route path='/products' component={ProductPage} />\n                        <Route path='/password' component={withAuth(PasswordPage)} />\n                        <Route path='/signup' component={SignupPage} />\n                        <Route path='/login' component={LoginPage} />\n                        <Route path='/about' component={AboutPage} />\n                        <Route path='/' component={LandingPage} />\n                    </Switch>\n                    <Footer />\n                </div>\n            </Router>\n        );\n    }\n}\n\nfunction mapStateToProps(state){\n\treturn {\n\t\tusername: state?.authReducer?.username,\n\t\tcartCount: state.cartReducer.cartCount\n\t};\n}\n\nApp.propTypes = {\n    restoreCart: PropTypes.func.isRequired,\n    username: PropTypes.string,\n\tcartCount: PropTypes.number.isRequired,\n\tlogOut: PropTypes.func.isRequired\n};\n\nexport default connect(mapStateToProps, {restoreCart, logOut})(App);","import App from './App';\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {LOG_OUT, LOG_IN, GET_ORDERED_PRODUCTS} from '../actionTypes';\n\nconst DEFAULT_STATE = {\n\tuserId: '',\n\tusername: '',\n\torderedProducts: [],\n\tloggedInAt: 0\n}\n\nexport function authReducer(state=DEFAULT_STATE, action){\n\tswitch (action.type){\n\t\tcase LOG_IN:\n\t\t\treturn {...state, userId: action.id, username: action.username, joinDate: action.joinDate, \n\t\t\t\torderedProducts: action.orderedProducts, loggedInAt: Date.now()};\n\t\tcase LOG_OUT:\n\t\t\treturn {...state, userId: '', username: '', joinDate: 0, orderedProducts: [], loggedInAt: 0};\n\t\tcase GET_ORDERED_PRODUCTS:\n\t\t\treturn {...state, orderedProducts: action.orderedProducts};\n\t\tdefault: \n\t\t\treturn state;\n\t}\n}","import {GET_PRODUCTS} from '../actionTypes';\n\nconst DEFAULT_STATE = {\n\tproducts: [],\n\tlastUpdated: 0\n}\n\nexport function productReducer(state=DEFAULT_STATE, action){\n\tswitch (action.type){\n\t\tcase GET_PRODUCTS:\n            return {...state, products: action.products, lastUpdated: Date.now()};\n\t\tdefault: \n\t\t\treturn state;\n\t}\n}","import {ADD_CART_ITEM, RESTORE_CART, REMOVE_CART_ITEM, EMPTY_CART} from '../actionTypes';\n\nconst DEFAULT_STATE = {\n    cart: [],\n    cartCount: 0,\n    lastUpdated: 0\n}\n\nexport function cartReducer(state=DEFAULT_STATE, action){\n    const {id, size, quantity, lsCart, lsCartCount} = action;\n    let newCart, idSizeCombo, newCartCount;\n\tswitch (action.type){\n\t\tcase ADD_CART_ITEM:\n            newCart = state.cart.map(item => ({...item}));\n            idSizeCombo = newCart.find(item => item.id === id && item.size === size);\n\n            if(!idSizeCombo){\n                newCart.push({id, size, quantity});\n            } else {\n                idSizeCombo.quantity += quantity;\n            }\n\n            newCartCount = state.cartCount + quantity;\n\n            return {...state, cart: newCart, cartCount: newCartCount, lastUpdated: Date.now()};\n        case RESTORE_CART:\n            return {...state, cart: lsCart, cartCount: lsCartCount, lastUpdated: Date.now()};\n        case REMOVE_CART_ITEM:\n            newCart = state.cart.map(item => ({...item}));\n            newCart = newCart.filter(item => item.id !== id || item.size !== size);\n            newCartCount = state.cartCount - quantity;\n            return {...state, cart: newCart, cartCount: newCartCount, lastUpdated: Date.now()};\n        case EMPTY_CART:\n            return {...state, cart: [], cartCount: 0, lastUpdated: Date.now()}\n\t\tdefault: \n\t\t\treturn state;\n\t}\n}","import {GET_ORDERS, REMOVE_ORDERS} from '../actionTypes';\n\nconst DEFAULT_STATE = {\n\torders: [],\n\tlastUpdated: 0\n}\n\nexport function orderReducer(state=DEFAULT_STATE, action){\n\tswitch (action.type){\n\t\tcase GET_ORDERS:\n\t\t\treturn {...state, orders: action.orders, lastUpdated: Date.now()};\n\t\tcase REMOVE_ORDERS:\n\t\t\treturn {...state, orders: [], lastUpdated: 0};\n\t\tdefault: \n\t\t\treturn state;\n\t}\n}","import {GET_REVIEWS} from '../actionTypes';\n\nconst DEFAULT_STATE = {};\n\nexport function reviewReducer(state=DEFAULT_STATE, action){\n    switch(action.type){\n        case GET_REVIEWS:\n            return {...state, [action.productId]: action.reviews};\n        default:\n            return {...state};\n    }\n}","import {combineReducers} from 'redux';\nimport {authReducer} from './auth';\nimport {productReducer} from './products';\nimport {cartReducer} from './cart';\nimport {orderReducer} from './orders';\nimport {reviewReducer} from './reviews';\n\nconst rootReducer = combineReducers({\n    productReducer,\n    authReducer,\n    cartReducer,\n    orderReducer,\n    reviewReducer\n});\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport {configureStore} from './store';\nimport jwtdecode from 'jwt-decode';\nimport {LOG_IN} from './store/actionTypes';\nimport {getOrderedProducts} from './store/actions/auth';\n\nconst store = configureStore();\n\n// If token already exists and isn't expired, log in\nif(localStorage.getItem('token')){\n\tconst decoded = jwtdecode(localStorage.getItem('token'));\n\tif(Date.now()/1000 - decoded.iat < 3600){\n        store.dispatch({type: LOG_IN, ...decoded});\n        getOrderedProducts()(store.dispatch);\n\t} else {\n\t\tlocalStorage.removeItem('token');\n\t}\n}\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nexport function configureStore(){\n\tlet middleware;\n\tconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\tif(process.env.NODE_ENV === 'development'){\n\t\tmiddleware = composeEnhancers(applyMiddleware(thunk));\n\t} else {\n\t\tmiddleware = applyMiddleware(thunk);\n\t}\n\n\treturn createStore(\n\t\trootReducer, \n\t\tmiddleware\n\t);\n}"],"sourceRoot":""}